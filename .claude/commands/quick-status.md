---
description: "10-second project status: markers, tests, eval, git state"
allowed-tools: ["Bash", "Read"]
---

## Context

LeanDeep-annotator project with 887 markers across 4 layers (ATO/SEM/CLU/MEMA). Quick terminal-only status without writing to docs (use `/ship-docs` or `/project-audit` for doc updates).

## Your Task

Print a concise terminal-only project status covering all dimensions in one glance.

### Steps

1. Run ALL of these in parallel (single message, multiple Bash calls):

   ```bash
   # Marker count + layer distribution
   python3 -c "
   import json
   r = json.load(open('build/markers_normalized/marker_registry.json'))
   m = r['markers']
   total = len(m)
   layers = {}
   for v in m.values():
       l = v.get('layer', '?')
       layers[l] = layers.get(l, 0) + 1
   print(f'Markers: {total} ({\" \".join(f\"{k}:{v}\" for k,v in sorted(layers.items()))})')
   "
   ```

   ```bash
   # Tests
   python3 -m pytest tests/ -x -q 2>&1 | tail -2
   ```

   ```bash
   # Enrichment status (examples at target)
   python3 tools/enrich_examples.py --verify 2>&1 | head -2
   ```

   ```bash
   # Git state
   git log --oneline -3 && echo "---" && git status -s | head -5
   ```

   ```bash
   # Broken refs
   python3 -c "
   import json
   r = json.load(open('build/markers_normalized/marker_registry.json'))
   markers = r.get('markers', {})
   all_ids = set(markers.keys())
   broken = 0
   for mid, m in markers.items():
       composed = m.get('composed_of')
       if isinstance(composed, list):
           for ref in composed:
               if isinstance(ref, str) and ref not in all_ids:
                   broken += 1
       elif isinstance(composed, dict):
           for ref in composed.get('require', []):
               if isinstance(ref, str) and ref not in all_ids:
                   broken += 1
   print(f'Broken refs: {broken}')
   "
   ```

2. Format output as a compact status table. Example:

   ```
   ══════════════════════════════════════
     LeanDeep Quick Status
   ══════════════════════════════════════
   Markers:     887 (ATO:415 SEM:240 CLU:121 MEMA:104)
   Tests:       81 passed
   Examples:    343/887 at target (38.7%)
   Broken refs: 0
   Last commit: a3779af Sync normalized markers
   Git state:   clean / 3 untracked
   ══════════════════════════════════════
   ```

### Guardrails
- Read-only — never modify files
- Skip eval_corpus.py (takes 90s, too slow for quick status)
- If tests fail, show the failure line, don't hide it

---
*Generated by /reflect-skills from 5 session patterns*
