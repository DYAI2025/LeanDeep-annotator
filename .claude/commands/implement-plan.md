---
description: Execute a structured implementation plan with normalize → test → commit cycle
allowed-tools: Read, Write, Edit, Bash, Glob, Grep, Task, TaskCreate, TaskUpdate, TaskList
---

## Context
LeanDeep-annotator follows a strict plan → implement → normalize → test → commit workflow.
Source-of-truth marker YAMLs live in `build/markers_rated/` (NOT `build/markers_normalized/`).
The normalizer overwrites `build/markers_normalized/` on every run.

## Your Task

Execute the implementation plan provided by the user. The plan is either:
- Pasted directly in the message
- Referenced as a file path (read it first)
- The most recent plan from docs/plans/

### Steps

1. **Read the plan** — understand all files to create/modify, the order, and success criteria
2. **Read all existing files** that will be modified (never edit blind)
3. **Create TaskList** — one task per file/component in the plan
4. **Implement** — file by file, following the plan's order
5. **Normalize** (if any marker YAML was changed):
   ```bash
   python3 tools/normalize_schema.py
   ```
6. **Run tests**:
   ```bash
   python3 -m pytest tests/ -x -q
   ```
7. **Fix any failures** — iterate until green
8. **Report** — summary of what was implemented, test results

### Guardrails
- NEVER edit files in `build/markers_normalized/` directly — edit in `build/markers_rated/` and run normalizer
- ALWAYS read a file before editing it
- ALWAYS run the full test suite, not just new tests
- If the plan includes new endpoints, verify backward compatibility (existing endpoints unchanged)
- Do NOT commit or push unless the user explicitly asks

---
*Generated by /reflect-skills from 5 session patterns*
