---
description: "Analyze text through LeanDeep engine, human-readable summary"
allowed-tools: ["Bash", "Read"]
---

## Context

The LeanDeep engine detects 887 psychological/conversational markers across 4 layers. Raw JSON output is hard to interpret. This skill provides a readable analysis summary.

**Argument:** The text to analyze (or "clipboard" to read from clipboard).

## Your Task

Run a text through the LeanDeep engine and produce a human-readable interpretation.

### Steps

1. **Get the text** from the argument. If argument is "clipboard", use `pbpaste`.

2. **Run analysis** via Python (direct engine, no server needed):

   ```bash
   python3 -c "
   import json, sys
   sys.path.insert(0, '.')
   from api.engine import MarkerEngine

   engine = MarkerEngine()
   text = '''$TEXT'''
   result = engine.analyze_text(text)

   # Group by layer
   by_layer = {}
   for d in result.get('detections', []):
       layer = d.get('layer', '?')
       by_layer.setdefault(layer, []).append(d)

   print(json.dumps({
       'text_preview': text[:100],
       'total_detections': len(result.get('detections', [])),
       'by_layer': {k: len(v) for k, v in by_layer.items()},
       'detections': result.get('detections', [])
   }, indent=2, ensure_ascii=False))
   "
   ```

3. **Summarize** the results in a readable format:

   ```
   ══════════════════════════════════════
     LeanDeep Analyse
   ══════════════════════════════════════
   Text: "[first 80 chars]..."

   Erkannte Muster (N total):

   ATO (Atomic Signals):
     - ATO_APOLOGY (0.92) — Entschuldigung
     - ATO_GUILT (0.85) — Schuldgefuehl

   SEM (Semantische Blends):
     - SEM_REPAIR_ATTEMPT (0.78) — Reparaturversuch

   Zusammenfassung:
   Der Text zeigt primaer Reparatur-Signale mit hoher
   Schuld-Komponente. Dominantes Framing: Reparaturmodus.
   ══════════════════════════════════════
   ```

4. **Interpret** — group detections by family/framing and give a 2-3 sentence summary of what the engine sees. Focus on the "so what" — what does this pattern constellation mean psychologically?

### Guardrails
- Read-only — never modify files
- Escape user text properly to prevent injection
- If engine fails to load, suggest: `pip install -r requirements.txt`
- German interpretation (the markers and examples are German)
- Keep summary concise — max 5 sentences

---
*Generated by /reflect-skills from 5 session patterns*
