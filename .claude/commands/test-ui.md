---
description: "Update playground UI after new API endpoints"
allowed-tools: ["Bash", "Read", "Write", "Edit"]
---

## Context

LeanDeep has a browser-based playground at `api/static/` (HTML/JS + Chart.js). After adding new API endpoints, the UI needs updating to expose them.

**Argument:** The endpoint to add (e.g., `/v1/analyze/interpret`)

## Your Task

Add a new endpoint to the playground UI.

### Steps

1. **Read current UI files:**
   ```bash
   ls api/static/
   ```
   Read the main playground file to understand current structure.

2. **Read the endpoint** — check `api/main.py` for the new endpoint's request/response models.

3. **Read the models** — check `api/models.py` for the Pydantic schemas.

4. **Add UI section** in the appropriate static HTML file:
   - Add a new tab/section for the endpoint
   - Input form matching the request model
   - Result display area with proper formatting
   - Use existing UI patterns (copy from similar endpoint sections)

5. **Test** — start the server and verify:
   ```bash
   python3 -m uvicorn api.main:app --port 8420 &
   sleep 2
   # Check the endpoint works
   curl -s http://localhost:8420/v1/health | python3 -m json.tool
   echo "Open http://localhost:8420/playground in browser"
   ```

6. **Also update mock_server.py** if it exists — add mock response for the new endpoint.

### Guardrails
- Match existing UI style (fonts, colors, layout)
- Include error handling in the JS (show error messages to user)
- Don't break existing endpoint UIs
- Test that existing functionality still works after changes
- Use vanilla JS (no frameworks) — match what's already there

---
*Generated by /reflect-skills from 5 session patterns*
