---
description: Audit system state — update ROADMAP.md and BUGS.md with current metrics
allowed-tools: Read, Write, Edit, Bash, Glob, Grep, Task
---

## Context
LeanDeep-annotator tracks project state in two docs:
- `docs/ROADMAP.md` — Prioritized initiatives with specs (P0-P3)
- `docs/BUGS.md` — Known bugs by severity (Critical → Low)

These need periodic updates as markers improve and bugs get fixed.

## Your Task

Audit the current system state and update the project documentation.

### Steps

1. **Gather current metrics**:
   ```bash
   # Marker counts
   python3 -c "
   import json
   with open('build/markers_normalized/marker_registry.json') as f:
       data = json.load(f)
   markers = data.get('markers', {})
   # Count by layer, VAD coverage, pattern coverage, families, etc.
   "
   ```

2. **Check eval stats** (if available):
   ```bash
   cat eval/stats.json | python3 -m json.tool | head -30
   cat eval/dynamics_stats.json | python3 -m json.tool | head -20
   ```

3. **Run tests** to verify current state:
   ```bash
   python3 -m pytest tests/ -x -q
   ```

4. **Compare against ROADMAP.md**:
   - Which P0/P1/P2/P3 items are now completed?
   - Have success criteria changed?
   - Any new initiatives needed?

5. **Compare against BUGS.md**:
   - Which bugs are now fixed?
   - Any new bugs discovered?
   - Update severity if context changed

6. **Update both files** with current data:
   - Update "Current State" table in ROADMAP.md
   - Mark completed initiatives
   - Update bug status / add new bugs
   - Add "Last updated" timestamp

7. **Summary** — report what changed

### Guardrails
- Base updates on ACTUAL metrics (run scripts), not assumptions
- Keep ROADMAP.md specs actionable — another agent should be able to pick up any spec
- BUGS.md: always include root cause, not just symptoms
- Do NOT commit — present changes for user review first

---
*Generated by /reflect-skills from 2 session patterns*
